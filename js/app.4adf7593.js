(function(){"use strict";var e={879:function(e,t,r){var a=r(963),n=r(252),s=r(876);const i=(0,s.Q_)("mode",{state:()=>({isDark:!0}),actions:{changeMode(){this.isDark=!this.isDark}},getters:{getMode(e){return e.isDark}}});var o=(0,n.aZ)({__name:"App",setup(e){const t=i(),{getMode:r}=(0,s.Jk)(t);return(0,n.YP)(r,(e=>{e?document.body.classList.remove("white"):document.body.classList.add("white")}),{immediate:!0}),(e,t)=>{const r=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(r)}}});const c=o;var d=c,u=r(201),l=r.p+"img/current.148b3745.svg";const _=e=>((0,n.dD)("data-v-037f8314"),e=e(),(0,n.Cn)(),e),m={class:"location"},p=_((()=>(0,n._)("img",{src:l,alt:"",class:"location__img"},null,-1))),v=_((()=>(0,n._)("p",{class:"location__text"},"Current location",-1))),h=[p,v];function w(e,t){return(0,n.wg)(),(0,n.iD)("button",m,h)}var g=r(744);const y={},f=(0,g.Z)(y,[["render",w],["__scopeId","data-v-037f8314"]]);var S=f,D=r(577),k=r(262);const U=e=>((0,n.dD)("data-v-1eeb01c0"),e=e(),(0,n.Cn)(),e),b=U((()=>(0,n._)("div",{class:"switch-theme__button"},null,-1))),W=[b],F={class:"switch-theme__label"};var C=(0,n.aZ)({__name:"DarkMode",setup(e){const t=i(),{getMode:r}=(0,s.Jk)(t),a=(0,n.Fl)((()=>r.value?"Dark Mode":"Light Mode"));return(e,s)=>((0,n.wg)(),(0,n.iD)("div",{class:(0,D.C_)(["switch-theme",{"is-active":(0,k.SU)(r)}])},[(0,n._)("button",{onClick:s[0]||(s[0]=(...e)=>(0,k.SU)(t).changeMode&&(0,k.SU)(t).changeMode(...e)),class:"switch-theme__backdrop"},W),(0,n._)("div",F,(0,D.zw)(a.value),1)],2))}});const z=(0,g.Z)(C,[["__scopeId","data-v-1eeb01c0"]]);var Z=z,I=r.p+"img/search.a325c773.svg",M=r(121);async function x(e={q:"London"}){try{const t={...e,units:"metric",appid:"7101a34a43712eb87a1af72089076da3"},r=await M.Z.get("https://api.openweathermap.org/data/2.5/weather",{params:t}),{sys:a,main:n,weather:s,wind:i,name:o,timezone:c,dt:d}=r.data;return{temp:n.temp,feelsLike:n.feels_like,sunrise:a.sunrise,sunset:a.sunset,icon:s[0].icon,description:s[0].description,humidity:n.humidity,wind:i.speed,pressure:n.pressure,city:o,timezone:c,date:d,uv:1,information:[{icon:"./humidity.svg",secondaryIcon:"./humidityDark.svg",template:n.humidity+"%",title:"Humidity"},{icon:"./wind.svg",secondaryIcon:"./windDark.svg",template:i.speed+"m/s",title:"Wind Speed"},{icon:"./pressure.svg",secondaryIcon:"./pressureDark.svg",template:n.pressure+"hPa",title:"Pressure"},{icon:"./uv.svg",secondaryIcon:"./uvDark.svg",template:"1",title:"UV"}]}}catch(t){console.error(t)}}function O(e,t){return new Date(1e3*e+1e3*t).toUTCString().substr(-12,5)}const H=new Intl.DateTimeFormat("en-US",{weekday:"long",day:"numeric",month:"short"}),j=e=>[{id:0,icon:e[1].weather[0].icon,temperature:e[1].main.temp,date:H.format(new Date(e[1].dt_txt))},{id:1,icon:e[9].weather[0].icon,temperature:e[9].main.temp,date:H.format(new Date(e[9].dt_txt))},{id:2,icon:e[17].weather[0].icon,temperature:e[17].main.temp,date:H.format(new Date(e[17].dt_txt))},{id:3,icon:e[25].weather[0].icon,temperature:e[25].main.temp,date:H.format(new Date(e[25].dt_txt))},{id:4,icon:e[33].weather[0].icon,temperature:e[33].main.temp,date:H.format(new Date(e[33].dt_txt))}],T=(e,t)=>[{id:0,time:O(e[0].dt,t),icon:e[0].weather[0].icon,temperature:e[0].main.temp,windDeg:e[0].wind.deg,windSpeed:Math.round(e[0].wind.speed)+"km/h"},{id:1,time:O(e[1].dt,t),icon:e[1].weather[0].icon,temperature:e[1].main.temp,windDeg:e[1].wind.deg,windSpeed:Math.round(e[1].wind.speed)+"km/h"},{id:2,time:O(e[2].dt,t),icon:e[2].weather[0].icon,temperature:e[2].main.temp,windDeg:e[2].wind.deg,windSpeed:Math.round(e[2].wind.speed)+"km/h"},{id:3,time:O(e[3].dt,t),icon:e[3].weather[0].icon,temperature:e[3].main.temp,windDeg:e[3].wind.deg,windSpeed:Math.round(e[3].wind.speed)+"km/h"},{id:4,time:O(e[4].dt,t),icon:e[4].weather[0].icon,temperature:e[4].main.temp,windDeg:e[4].wind.deg,windSpeed:Math.round(e[4].wind.speed)+"km/h"}];async function q(e={q:"London"}){try{const t={...e,units:"metric",appid:"7101a34a43712eb87a1af72089076da3"},r=await M.Z.get("https://api.openweathermap.org/data/2.5/forecast",{params:t}),{list:a,city:n}=r.data,s=j(a),i=T(a,n.timezone);return{daysForecast:s,hourlyForecast:i}}catch(t){throw console.error(t),Error("ошибка")}}const L=(0,s.Q_)("weather",{state:()=>({currentWeather:null,daysForecast:null,hourlyForecast:null}),actions:{async loadCurrentWeatherStore(e="London"){try{const t=await x({q:e});this.currentWeather=t||null}catch(t){console.error(t),this.currentWeather=null}},async loadForecastStore(e="London"){try{const{daysForecast:t,hourlyForecast:r}=await q({q:e});this.daysForecast=t,this.hourlyForecast=r}catch(t){console.error(t)}}},getters:{getCurrentWeather(e){return e.currentWeather},getDaysForecast(e){return e.daysForecast},getHourlyForecast(e){return e.hourlyForecast}}}),J=e=>((0,n.dD)("data-v-1100b678"),e=e(),(0,n.Cn)(),e),P=J((()=>(0,n._)("button",{class:"search__button"},[(0,n._)("img",{src:I,alt:""})],-1)));var $=(0,n.aZ)({__name:"InputSearch",setup(e){const t=L(),r=(0,k.iH)("");function s(){t.loadCurrentWeatherStore(r.value),t.loadForecastStore(r.value),r.value=""}return(e,t)=>((0,n.wg)(),(0,n.iD)("form",{class:"search",onSubmit:(0,a.iM)(s,["prevent"])},[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),class:"search__input",type:"text",name:"",id:"",required:"",pattern:".{1,}",placeholder:"Search city..."},null,512),[[a.nr,r.value]]),P],32))}});const Y=(0,g.Z)($,[["__scopeId","data-v-1100b678"]]);var K=Y;const E={class:"header"};var Q=(0,n.aZ)({__name:"HeaderContent",setup(e){return(e,t)=>((0,n.wg)(),(0,n.iD)("div",E,[(0,n.Wm)(Z,{class:"header__child"}),(0,n.Wm)(K,{class:"header__child"}),(0,n.Wm)(S,{class:"header__child"})]))}});const V=(0,g.Z)(Q,[["__scopeId","data-v-f0a6612a"]]);var A=V;const B={class:"card"};function N(e,t){return(0,n.wg)(),(0,n.iD)("div",B,[(0,n.WI)(e.$slots,"default",{},void 0,!0)])}const G={},R=(0,g.Z)(G,[["render",N],["__scopeId","data-v-47c704bd"]]);var X=R;const ee={key:0,class:"card-time"},te={class:"card-time__location"},re={class:"card-time__time"},ae={class:"card-time__date"};var ne=(0,n.aZ)({__name:"CardTime",setup(e){const t=new Intl.DateTimeFormat("ru",{hour:"numeric",minute:"numeric"}),r=new Intl.DateTimeFormat("en-US",{weekday:"long",day:"numeric",month:"short"}),a=L(),{getCurrentWeather:i}=(0,s.Jk)(a);return(e,a)=>(0,k.SU)(i)?((0,n.wg)(),(0,n.iD)("div",ee,[(0,n._)("div",te,(0,D.zw)((0,k.SU)(i).city),1),(0,n._)("div",re,(0,D.zw)((0,k.SU)(t).format(new Date((new Date).setHours((new Date).getUTCHours())+1e3*(0,k.SU)(i).timezone))),1),(0,n._)("div",ae,(0,D.zw)((0,k.SU)(r).format(new Date(1e3*(0,k.SU)(i).date))),1)])):(0,n.kq)("",!0)}});const se=(0,g.Z)(ne,[["__scopeId","data-v-4735b5c3"]]);var ie=se,oe=r.p+"img/sunrise.e1d16722.svg",ce=r.p+"img/sunriseWhite.495f1521.svg",de=r.p+"img/sunset.3bb475c5.svg",ue=r.p+"img/sunsetWhite.4b512a9c.svg";function le(e){return e>0?`+${Math.round(e)}℃`:`${Math.round(e)}℃`}const _e=e=>((0,n.dD)("data-v-6ebc912a"),e=e(),(0,n.Cn)(),e),me={key:0,class:"current"},pe={class:"current__wrapper"},ve={class:"current__temperature"},he={class:"current__temperature-now"},we={class:"current__temperature-feels"},ge={class:"current__sun"},ye={class:"current__sun-sunrise"},fe={class:"current__sun-icon"},Se={key:0,src:oe,alt:""},De={key:1,src:ce,alt:""},ke=_e((()=>(0,n._)("div",{class:"current__sun-title"},"Sunrise",-1))),Ue={class:"current__sun-time"},be={class:"current__sun-sunrise"},We={class:"current__sun-icon"},Fe={key:0,src:de,alt:""},Ce={key:1,src:ue,alt:""},ze=_e((()=>(0,n._)("div",{class:"current__sun-title"},"Sunset",-1))),Ze={class:"current__sun-time"},Ie={class:"current__wrapper"},Me={class:"current__cloudiness"},xe={class:"current__cloudiness-icon"},Oe=["src"],He={class:"current__cloudiness-title"},je={class:"current__wrapper"},Te={class:"current__information"},qe={class:"current__information-icon"},Le=["src"],Je={class:"current__information-template"},Pe={class:"current__information-title"};var $e=(0,n.aZ)({__name:"CardCurrentWeather",setup(e){const t=i(),{getMode:r}=(0,s.Jk)(t),a=L(),{getCurrentWeather:o}=(0,s.Jk)(a);return(e,a)=>(0,k.SU)(o)?((0,n.wg)(),(0,n.iD)("div",me,[(0,n._)("div",pe,[(0,n._)("div",ve,[(0,n._)("div",he,(0,D.zw)((0,k.SU)(le)((0,k.SU)(o).temp)),1),(0,n._)("div",we,[(0,n.Uk)(" Feels like: "),(0,n._)("span",null,(0,D.zw)((0,k.SU)(le)((0,k.SU)(o).feelsLike)),1)])]),(0,n._)("div",ge,[(0,n._)("div",ye,[(0,n._)("div",fe,[(0,k.SU)(t).isDark?((0,n.wg)(),(0,n.iD)("img",Se)):((0,n.wg)(),(0,n.iD)("img",De))]),ke,(0,n._)("div",Ue,(0,D.zw)((0,k.SU)(O)((0,k.SU)(o).sunrise,(0,k.SU)(o).timezone)),1)]),(0,n._)("div",be,[(0,n._)("div",We,[(0,k.SU)(t).isDark?((0,n.wg)(),(0,n.iD)("img",Fe)):((0,n.wg)(),(0,n.iD)("img",Ce))]),ze,(0,n._)("div",Ze,(0,D.zw)((0,k.SU)(O)((0,k.SU)(o).sunset,(0,k.SU)(o).timezone)),1)])])]),(0,n._)("div",Ie,[(0,n._)("div",Me,[(0,n._)("div",xe,[(0,n._)("img",{src:`https://openweathermap.org/img/wn/${(0,k.SU)(o).icon}@4x.png`,alt:""},null,8,Oe)]),(0,n._)("div",He,(0,D.zw)((0,k.SU)(o).description),1)])]),(0,n._)("div",je,[(0,n._)("div",Te,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,k.SU)(o).information,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"current__information-data",key:e.title},[(0,n._)("div",qe,[(0,n._)("img",{src:(0,k.SU)(o).information[t][(0,k.SU)(r)?"icon":"secondaryIcon"],alt:""},null,8,Le)]),(0,n._)("div",Je,(0,D.zw)((0,k.SU)(o).information[t].template),1),(0,n._)("div",Pe,(0,D.zw)((0,k.SU)(o).information[t].title),1)])))),128))])])])):(0,n.kq)("",!0)}});const Ye=(0,g.Z)($e,[["__scopeId","data-v-6ebc912a"]]);var Ke=Ye;const Ee=e=>((0,n.dD)("data-v-4cc250bc"),e=e(),(0,n.Cn)(),e),Qe={class:"days"},Ve=Ee((()=>(0,n._)("h2",{class:"days__title"},"5 Days Forecast:",-1))),Ae={key:0,class:"days__forecast"},Be={class:"days__forecast-icon"},Ne=["src"],Ge={class:"days__forecast-temperature"},Re={class:"days__forecast-date"};var Xe=(0,n.aZ)({__name:"CardDaysForecast",setup(e){const t=L(),{getDaysForecast:r}=(0,s.Jk)(t);return(e,t)=>((0,n.wg)(),(0,n.iD)("div",Qe,[Ve,(0,k.SU)(r)?((0,n.wg)(),(0,n.iD)("ul",Ae,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,k.SU)(r),((e,t)=>((0,n.wg)(),(0,n.iD)("li",{key:e.id,class:"days__forecast-day"},[(0,n._)("div",Be,[(0,n._)("img",{src:`https://openweathermap.org/img/wn/${(0,k.SU)(r)[t].icon}@2x.png`,alt:""},null,8,Ne)]),(0,n._)("div",Ge,(0,D.zw)((0,k.SU)(le)((0,k.SU)(r)[t].temperature)),1),(0,n._)("div",Re,(0,D.zw)((0,k.SU)(r)[t].date),1)])))),128))])):(0,n.kq)("",!0)]))}});const et=(0,g.Z)(Xe,[["__scopeId","data-v-4cc250bc"]]);var tt=et,rt=r.p+"img/navigation.21ffde14.svg";const at=e=>((0,n.dD)("data-v-84902f3e"),e=e(),(0,n.Cn)(),e),nt={class:"hourly"},st=at((()=>(0,n._)("h2",{class:"hourly__title"},"Hourly Forecast:",-1))),it={class:"hourly__list"},ot={key:0,class:"hourly__items"},ct={class:"hourly__time"},dt={class:"hourly__icon"},ut=["src"],lt={class:"hourly__temperature"},_t={class:"hourly__wind"},mt={class:"hourly__speed"};var pt=(0,n.aZ)({__name:"CardHourlyForecast",setup(e){const t=L(),{getHourlyForecast:r,getCurrentWeather:a}=(0,s.Jk)(t),i=(0,n.Fl)((()=>a.value?O(a.value.sunset,a.value.timezone).substring(0,2):"")),o=(0,n.Fl)((()=>a.value?O(a.value.sunrise,a.value.timezone).substring(0,2):""));function c(e){return!!a.value&&(+i.value<+e.split(":")[0]||+o.value>+e.split(":")[0])}return(e,t)=>((0,n.wg)(),(0,n.iD)("div",nt,[st,(0,n._)("div",it,[(0,k.SU)(r)?((0,n.wg)(),(0,n.iD)("ul",ot,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,k.SU)(r),((e,t)=>((0,n.wg)(),(0,n.iD)("li",{key:e.id,class:(0,D.C_)(["hourly__item",{isNight:c(e.time)}])},[(0,n._)("div",ct,(0,D.zw)((0,k.SU)(r)[t].time),1),(0,n._)("div",dt,[(0,n._)("img",{src:`https://openweathermap.org/img/wn/${(0,k.SU)(r)[t].icon}@2x.png`,alt:""},null,8,ut)]),(0,n._)("div",lt,(0,D.zw)((0,k.SU)(le)((0,k.SU)(r)[t].temperature)),1),(0,n._)("div",_t,[(0,n._)("img",{style:(0,D.j5)(`transform: rotate(${(0,k.SU)(r)[t].windDeg+180}deg)`),src:rt,alt:""},null,4)]),(0,n._)("div",mt,(0,D.zw)((0,k.SU)(r)[t].windSpeed),1)],2)))),128))])):(0,n.kq)("",!0)])]))}});const vt=(0,g.Z)(pt,[["__scopeId","data-v-84902f3e"]]);var ht=vt;const wt={class:"cards"},gt={class:"cards__wrapper"},yt={class:"cards__wrapper"},ft={key:1,class:"cards__wrapper"};var St=(0,n.aZ)({__name:"DataCards",setup(e){const t=L(),{getCurrentWeather:r}=(0,s.Jk)(t);return(e,t)=>((0,n.wg)(),(0,n.iD)("div",wt,[(0,k.SU)(r)?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n._)("div",gt,[(0,n.Wm)(X,null,{default:(0,n.w5)((()=>[(0,n.Wm)(ie)])),_:1}),(0,n.Wm)(X,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Ke)])),_:1})]),(0,n._)("div",yt,[(0,n.Wm)(X,null,{default:(0,n.w5)((()=>[(0,n.Wm)(tt)])),_:1}),(0,n.Wm)(X,null,{default:(0,n.w5)((()=>[(0,n.Wm)(ht)])),_:1})])],64)):((0,n.wg)(),(0,n.iD)("div",ft,[(0,n.Wm)(X,{style:{width:"300px",height:"200px"}},{default:(0,n.w5)((()=>[(0,n.Uk)(" Данные не найдены ")])),_:1})]))]))}});const Dt=(0,g.Z)(St,[["__scopeId","data-v-39fa002a"]]);var kt=Dt;const Ut={class:"container"};var bt=(0,n.aZ)({__name:"MainForecast",setup(e){const t=L();return(0,n.wF)((()=>{t.loadCurrentWeatherStore(),t.loadForecastStore()})),(e,t)=>((0,n.wg)(),(0,n.iD)("div",Ut,[(0,n.Wm)(A),(0,n.Wm)(kt)]))}});const Wt=(0,g.Z)(bt,[["__scopeId","data-v-6331cba4"]]);var Ft=Wt;const Ct=[{path:"/",name:"home",component:Ft}],zt=(0,u.p7)({history:(0,u.PO)("/myWeather/"),routes:Ct});var Zt=zt;const It=(0,s.WB)();(0,a.ri)(d).use(Zt).use(It).mount("#app")}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,r),s.exports}r.m=e,function(){var e=[];r.O=function(t,a,n,s){if(!a){var i=1/0;for(u=0;u<e.length;u++){a=e[u][0],n=e[u][1],s=e[u][2];for(var o=!0,c=0;c<a.length;c++)(!1&s||i>=s)&&Object.keys(r.O).every((function(e){return r.O[e](a[c])}))?a.splice(c--,1):(o=!1,s<i&&(i=s));if(o){e.splice(u--,1);var d=n();void 0!==d&&(t=d)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[a,n,s]}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.p="/myWeather/"}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,s,i=a[0],o=a[1],c=a[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(n in o)r.o(o,n)&&(r.m[n]=o[n]);if(c)var u=c(r)}for(t&&t(a);d<i.length;d++)s=i[d],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(u)},a=self["webpackChunkweather"]=self["webpackChunkweather"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(879)}));a=r.O(a)})();
//# sourceMappingURL=app.4adf7593.js.map